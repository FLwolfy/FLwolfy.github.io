/* ======================================================
   Waifu Toggle 按钮
   底部固定，竖排文字，可滑动显示
====================================================== */
#waifu-toggle {
  background-color: rgba(252, 190, 65, 0.7);
  border-radius: 0.3125rem; /* 5px */
  bottom: 4.125rem; /* 66px */
  color: #fff;
  cursor: pointer;
  font-size: 0.75rem; /* 12px */
  left: 0;
  margin-left: -6.25rem; /* -100px */
  padding: 0.3125rem 0.125rem 0.3125rem 0.3125rem;
  position: fixed;
  transition: margin-left 1s ease;
  width: 3.75rem; /* 60px */
  writing-mode: vertical-rl;
  will-change: margin-left;
}

#waifu-toggle.waifu-toggle-active {
  margin-left: -3.125rem; /* -50px */
}

#waifu-toggle.waifu-toggle-active:hover {
  margin-left: -1.875rem; /* -30px */
}

/* ======================================================
   Waifu 主体
   固定底部
====================================================== */
#waifu {
  margin-bottom: -0.625rem; /* -10px */
  width: 20rem; /* 320px */
  position: fixed;
  display: flex;
  flex-direction: column; /* 内容从上到下排列 */
  align-items: center;
  z-index: 100;

  transition: bottom 1s ease, transform 0.6s ease;
}

/* ======================================================
   Waifu 提示框
   半透明背景 + 荧光边框
====================================================== */
#waifu-tips {
  background-color: rgba(236, 217, 188, 0.5);
  border: 0.0625rem solid rgba(224, 186, 140, 0.62);
  border-radius: 0.75rem;
  box-shadow:
    0 0 0.5rem 0.125rem rgba(236, 217, 188, 0.8),
    0 0.1875rem 0.9375rem 0.125rem rgba(191, 158, 118, 0.2);
  font-size: 1rem;
  line-height: 1.125rem;
  margin: 0 10rem 0.625rem 10rem;
  min-height: 4.375rem;
  opacity: 0;
  overflow: hidden;
  padding: 0.3125rem 0.625rem;
  text-overflow: ellipsis;
  transition: opacity 0.2s ease;
  width: 100%;
  word-break: break-all;
  color: var(--color-red);
  font-weight: bold;
  will-change: opacity;
}

#waifu-tips.waifu-tips-active {
  opacity: 1;
}

#waifu-tips span {
  color: #0099cc;
}

/* ======================================================
   Live2D 容器
   毛玻璃背景 + 荧光边框 + 羽化
====================================================== */
#live2d {
  cursor: grab;
  height: 20rem; /* 400px */
  width: 100%;
  position: relative;

  background-color: var(--grey-6-a2);
  backdrop-filter: blur(0.625rem);
  -webkit-backdrop-filter: blur(0.625rem);

  border-radius: 0.75rem;
  border: 0.625rem solid var(--grey-9-a3);
  box-shadow:
      0 0 0.9375rem var(--grey-9-a6),
      0 0 1.875rem var(--grey-9-a3);

  -webkit-mask-image: radial-gradient(circle, rgba(0,0,0,1) 80%, rgba(0,0,0,0) 100%);
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-size: cover;

  mask-image: radial-gradient(circle, rgba(0,0,0,1) 80%, rgba(0,0,0,0) 100%);
  mask-repeat: no-repeat;
  mask-size: cover;
  will-change: transform;
}

#live2d:active {
  cursor: grabbing;
}

/* ======================================================
   Waifu 工具条
====================================================== */
#waifu-tool {
  color: #aaa;
  opacity: 0;
  position: absolute;
  left: 50%;
  bottom: 0.625rem;
  transform: translateX(-50%);
  transition: opacity 1s ease;
  display: flex;
  gap: 0.625rem;
}

#live2d:hover + #waifu-tool,
#waifu-tool:hover {
  opacity: 1;
}

#waifu-tool span {
  display: block;
  height: 3.125rem; /* 50px */
  text-align: center;
}

#waifu-tool svg {
  fill: #7b8c9d;
  cursor: pointer;
  height: 2.5rem;
  transition: fill 0.3s ease;
}

#waifu-tool svg:hover {
  fill: #eea73c;
}

/* ======================================================
   Waifu 抖动动画
   类名: live-2d-shake
====================================================== */
.live-2d-shake {
  animation: live-2d-shake 0.5s ease-in-out;
}

/* 复用你已有的 shake keyframes */
@keyframes live-2d-shake {
  0%, 100% { transform: translate(0,0) rotate(0); }
  2% { transform: translate(0.0625rem, -0.1875rem) rotate(-0.0625deg); }
  4% { transform: translate(0.0625rem, 0.1875rem) rotate(0.125deg); }
  6% { transform: translate(0.1875rem, 0.1875rem) rotate(0.125deg); }
  8% { transform: translate(0.25rem, 0.1875rem) rotate(0.0625deg); }
  10% { transform: translate(0.0625rem, 0.25rem) rotate(0.0625deg); }
  12% { transform: translate(0.1875rem, 0.1875rem) rotate(0.0625deg); }
  14% { transform: translate(0.0625rem, 0.0625rem) rotate(0.0625deg); }
  16% { transform: translate(-0.1875rem, -0.0625rem) rotate(0.125deg); }
  18% { transform: translate(0.0625rem, 0.0625rem) rotate(0.125deg); }
  20% { transform: translate(0.25rem, 0.25rem) rotate(0.125deg); }
  22% { transform: translate(0.0625rem, -0.1875rem) rotate(0.125deg); }
  24% { transform: translate(-0.1875rem, 0.1875rem) rotate(-0.0625deg); }
  26% { transform: translate(0.1875rem, 0.0625rem) rotate(0.125deg); }
  28% { transform: translate(-0.0625rem, -0.0625rem) rotate(-0.0625deg); }
  30% { transform: translate(0.1875rem, -0.0625rem) rotate(-0.0625deg); }
  32% { transform: translate(0.25rem, -0.1875rem) rotate(0.125deg); }
  34% { transform: translate(0.25rem, 0.25rem) rotate(-0.0625deg); }
  36% { transform: translate(0.0625rem, -0.1875rem) rotate(0.0625deg); }
  38% { transform: translate(0.25rem, -0.0625rem) rotate(-0.0625deg); }
  40% { transform: translate(-0.0625rem, 0.25rem) rotate(0.0625deg); }
  42% { transform: translate(-0.1875rem, 0.25rem) rotate(0.0625deg); }
  44% { transform: translate(-0.1875rem, 0.1875rem) rotate(0.0625deg); }
  46% { transform: translate(0.1875rem, -0.0625rem) rotate(-0.0625deg); }
  48% { transform: translate(0.25rem, -0.0625rem) rotate(0.0625deg); }
  50% { transform: translate(-0.1875rem, 0.1875rem) rotate(0.0625deg); }
  52% { transform: translate(-0.0625rem, 0.1875rem) rotate(0.0625deg); }
  54% { transform: translate(-0.1875rem, 0.1875rem) rotate(0.0625deg); }
  56% { transform: translate(0.0625rem, 0.25rem) rotate(0.125deg); }
  58% { transform: translate(0.25rem, 0.25rem) rotate(0.0625deg); }
  60% { transform: translate(0.25rem, -0.1875rem) rotate(0.125deg); }
  62% { transform: translate(-0.1875rem, 0.0625rem) rotate(0.125deg); }
  64% { transform: translate(-0.1875rem, 0.1875rem) rotate(0.125deg); }
  66% { transform: translate(0.0625rem, 0.25rem) rotate(0.125deg); }
  68% { transform: translate(0.25rem, -0.1875rem) rotate(0.125deg); }
  70% { transform: translate(0.25rem, 0.25rem) rotate(0.0625deg); }
  72% { transform: translate(-0.0625rem, -0.1875rem) rotate(0.125deg); }
  74% { transform: translate(-0.1875rem, 0.25rem) rotate(0.125deg); }
  76% { transform: translate(-0.1875rem, 0.25rem) rotate(0.125deg); }
  78% { transform: translate(-0.1875rem, 0.25rem) rotate(0.0625deg); }
  80% { transform: translate(-0.1875rem, 0.0625rem) rotate(-0.0625deg); }
  82% { transform: translate(-0.1875rem, 0.0625rem) rotate(-0.0625deg); }
  84% { transform: translate(-0.0625rem, 0.0625rem) rotate(0.125deg); }
  86% { transform: translate(0.25rem, 0.1875rem) rotate(0.0625deg); }
  88% { transform: translate(-0.1875rem, 0.0625rem) rotate(0.125deg); }
  90% { transform: translate(-0.1875rem, -0.0625rem) rotate(-0.0625deg); }
  92% { transform: translate(-0.1875rem, -0.1875rem) rotate(0.125deg); }
  94% { transform: translate(0.0625rem, 0.0625rem) rotate(-0.0625deg); }
  96% { transform: translate(0.25rem, -0.0625rem) rotate(-0.0625deg); }
  98% { transform: translate(-0.1875rem, -0.1875rem) rotate(-0.0625deg); }
}